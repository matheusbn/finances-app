{"version":3,"sources":["../../src/pages/home/home.module.ts","../../src/pages/home/home.ts"],"names":[],"mappings":"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","file":"4.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { HomePage } from './home';\nimport { TranslateModule } from 'ng2-translate/ng2-translate';\n\n@NgModule({\n  declarations: [\n    HomePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(HomePage),\n\t  TranslateModule\n  ],\n  exports: [\n    HomePage\n  ]\n})\nexport class HomePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.module.ts","import { Component } from '@angular/core';\nimport { NavController, ModalController, IonicPage, AlertController } from 'ionic-angular';\n\nimport { Cashflow } from '../../model/cashflow';\n\nimport { MoneyDataProvider } from '../../providers/money-data/money-data';\nimport { DatabaseProvider } from '../../providers/database/database';\n\n\n@IonicPage()\n@Component({\n\tselector: 'page-home',\n\ttemplateUrl: 'home.html'\n})\nexport class HomePage {\n  cashflows: Cashflow[]\n\tunit: string\n  dateFormat: string\n  months = [\n    'January', 'February', 'March', 'April', 'May', 'June', 'July',\n    'August', 'September', 'October', 'November', 'December'\n  ]\n  dateOptions = {\n    weekday: 'short',\n    day: '2-digit',\n    month: 'long',\n    year:'numeric'\n  }\n\n\tconstructor(public navCtrl: NavController, public modalCtrl: ModalController, public moneyData: MoneyDataProvider,\n    public database: DatabaseProvider, public alertCtrl: AlertController) {\n\t\tif (!this.cashflows) {\n\t\t\tthis.unit = this.moneyData.unit\n\t\t\tthis.dateFormat = 'pt-BR'\n\n\t\t\tdatabase.initialize().then(() => {\n\t\t\t\tthis.moneyData.load().then(() => {\n            this.cashflows = this.moneyData.cashflows\n\t\t\t\t\t})\n\t\t\t})\n\n\t\t\tthis.cashflows = []\n\t\t}\n  }\n\n  ionViewWillEnter() {\n    this.cashflows = this.moneyData.cashflows\n  }\n\n\t// The parameter cashflowType is used to determine wheter to add an income (true) or an expense (false).\n\taddCashflow(cashflowType: boolean) {\n\t\tconst modal = this.modalCtrl.create('AddCashflowPage', { cashflowType: cashflowType })\n\t\tmodal.onDidDismiss(data => {\n\t\t\tif (!data) return\n      this.moneyData.addCashflow(data)\n      data.resultingMoney = this.moneyData.totalMoney\n\t\t})\n\t\tmodal.present()\n  }\n  \n  changeWallet() {\n    const alertOptions: any = {\n      title: 'Change Wallet',\n      inputs: this.moneyData.wallets.map(wallet => {\n        return {\n          type: 'radio',\n          label: wallet.name,\n          value: wallet.id.toString(),\n          checked: wallet.id === this.moneyData.currentWalletId\n        }\n      }),\n      buttons: [\n        {\n          text: 'Cancel',\n          role: 'cancel'\n        },\n        {\n          text: 'OK',\n          handler: async walletId => {\n            this.moneyData.currentWalletId = walletId\n            await this.moneyData.loadCashflows()\n            this.cashflows = this.moneyData.cashflows\n          }\n        }\n      ]\n    }\n    const alert = this.alertCtrl.create(alertOptions)\n    alert.present()\n  }\n\n  filter() {\n    const modal = this.modalCtrl.create('FilterPage')\n    modal.onDidDismiss(data => {\n      if(!data) return\n      if((data.isIncome && data.isExpense) || (!data.isIncome && !data.isExpense)) {\n        this.cashflows = this.moneyData.cashflows\n      }\n      else {\n        this.cashflows = this.moneyData.cashflows.filter(cf => {\n          if(data.isIncome) return cf.amount >= 0\n\n          else return cf.amount < 0\n        })\n      }\n\n      if(data.filterBy == 0) {\n        if(data.fromValue != null) this.cashflows = this.cashflows.filter(cf => cf.amount >= data.fromValue)\n        if(data.toValue != null) this.cashflows = this.cashflows.filter(cf => cf.amount <= data.toValue)\n      }\n      else if(data.filterBy == 1) {\n        this.cashflows = this.cashflows.filter(cf => cf.date.getMonth() == data.month)\n      }\n      else if(data.filterBy == 2) {\n        if(data.fromDate != null) this.cashflows = this.cashflows.filter(cf => cf.date >= new Date(data.fromDate))\n        if(data.toDate != null) this.cashflows = this.cashflows.filter(cf => cf.date <= new Date(data.toDate))\n      }\n      else if(data.filterBy == 3) {\n          this.cashflows = this.cashflows.filter(cf => cf.source === data.source)\n      }\n    })\n    modal.present()\n  }\n\n  clearFilters() {\n    this.cashflows = this.moneyData.cashflows\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts"],"sourceRoot":""}